# ุฏููู ูุธุงู ุชุชุจุน ุงูุฒูุงุฑ
## Visitor Tracking System Guide

ูุฐุง ุงูุฏููู ูุดุฑุญ ููููุฉ ุงุณุชุฎุฏุงู ูุธุงู ุชุชุจุน ุงูุฒูุงุฑ ุงูุฐู ุชู ุฅูุดุงุคู ููููุนู ุงูุดุฎุตู.

## ุงูููููุงุช ุงููุซุจุชุฉ

### 1. ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุฌุฏูู `visitors`**: ูุญูุธ ุจูุงูุงุช ุงูุฒูุงุฑ
- **ุฅุนุฏุงุฏุงุช ุฅุถุงููุฉ**: ูู ุฌุฏูู `settings` ููุชุญูู ูู ุนุฑุถ ุนุฏุงุฏ ุงูุฒูุงุฑ

### 2. ุงููููุงุช ุงููุถุงูุฉ
- `app/Models/Visitors.php` - ูููุฐุฌ ุงูุจูุงูุงุช
- `app/Helpers/VisitorTracker.php` - ูุณุงุนุฏ ุชุชุจุน ุงูุฒูุงุฑ
- `resources/views/Admin/visitors.view.php` - ุตูุญุฉ ุฅุญุตุงุฆูุงุช ุงูุฒูุงุฑ ูู ููุญุฉ ุงูุชุญูู
- `database/migrations/create_visitors_table.php` - ููู ุฅูุดุงุก ุงูุฌุฏูู
- `database/migrations/create_visitors_table.sql` - ููู SQL ูุฅูุดุงุก ุงูุฌุฏูู

### 3. ุงููููุงุช ุงููุญุฏุซุฉ
- `app/Http/Controllers/HomeController.php` - ุฅุถุงูุฉ ุชุชุจุน ุงูุฒูุงุฑ
- `app/Http/Controllers/Admin/DashboardController.php` - ุฅุถุงูุฉ ุฅุญุตุงุฆูุงุช ุงูุฒูุงุฑ
- `app/Helpers/SettingsHelper.php` - ุฅุถุงูุฉ ุฏูุงู ูุณุงุนุฏุฉ ููุฅุญุตุงุฆูุงุช
- `resources/views/layout/footer.view.php` - ุนุฏุงุฏ ุงูุฒูุงุฑ ูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ
- `resources/views/Admin/dashboard.view.php` - ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช ูู ุงูุฏุงุดุจูุฑุฏ
- `routes/web.php` - ุฅุถุงูุฉ route ูุตูุญุฉ ุงูุฅุญุตุงุฆูุงุช

## ุทุฑููุฉ ุงูุชุซุจูุช

### 1. ุฅูุดุงุก ุฌุฏูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

ูู ุจุชุดุบูู ุฃุญุฏ ุงูุฃูุงูุฑ ุงูุชุงููุฉ:

**ุงูุทุฑููุฉ ุงูุฃููู - ุงุณุชุฎุฏุงู ููู PHP Migration:**
```bash
php -r "require 'database/migrations/create_visitors_table.php'; (new create_visitors_table())->up();"
```

**ุงูุทุฑููุฉ ุงูุซุงููุฉ - ุงุณุชุฎุฏุงู ููู SQL ูุจุงุดุฑุฉ:**
```bash
mysql -u [username] -p [database_name] < database/migrations/create_visitors_table.sql
```

**ุฃู ูุฏููุงู ูู phpMyAdmin:**
- ุงูุชุญ phpMyAdmin
- ุญุฏุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจู
- ุงูุณุฎ ูุญุชูู ููู `database/migrations/create_visitors_table.sql` ูููุฐู

### 2. ุงูุชุฃูุฏ ูู ุนูู ุงููุธุงู

1. **ุฒุฑ ูููุนู ุงูุฑุฆูุณู** - ูุฌุจ ุฃู ูุชู ุชุณุฌูู ุงูุฒูุงุฑุฉ ุชููุงุฆูุงู
2. **ุงุฏุฎู ููุญุฉ ุงูุชุญูู** (`/admin/dashboard`) - ูุฌุจ ุฃู ุชุฑู ุฅุญุตุงุฆูุงุช ุงูุฒูุงุฑ
3. **ุฒุฑ ุตูุญุฉ ุงูุฅุญุตุงุฆูุงุช ุงูููุตูุฉ** (`/admin/visitors`)

## ุงูููุฒุงุช ุงููุชุงุญุฉ

### 1. ุชุชุจุน ุชููุงุฆู ููุฒูุงุฑ
- **ุชุณุฌูู ุชููุงุฆู** ููู ุฒุงุฆุฑ ุฌุฏูุฏ
- **ุชุฌูุจ ุชุณุฌูู ุงูุจูุชุงุช** ูุงูุฒูุงุฑุงุช ุงูููููุฉ
- **ุชุชุจุน ุงูุตูุญุงุช ุงููุฎุชููุฉ** (ุงูุฑุฆูุณูุฉุ ุงููุดุงุฑูุนุ ุฅูุฎ)
- **ุชุณุฌูู ูุนูููุงุช ุชูุตูููุฉ**: IPุ ุงููุชุตูุญุ ุงููุตุฏุฑุ ุฅูุฎ

### 2. ุฅุญุตุงุฆูุงุช ุดุงููุฉ
- **ุฒูุงุฑ ุงูููู** (ุฅุฌูุงูู ููุฑูุฏ)
- **ุฒูุงุฑ ุงูุฃุณุจูุน** (ุฅุฌูุงูู ููุฑูุฏ)
- **ุฒูุงุฑ ุงูุดูุฑ** (ุฅุฌูุงูู ููุฑูุฏ)
- **ุฅุฌูุงูู ุงูุฒูุงุฑ** ููุฐ ุงูุชุซุจูุช
- **ุงูุฒูุงุฑ ุงููุชุตููู ุญุงููุงู** (ุขุฎุฑ 30 ุฏูููุฉ)

### 3. ุชุญูููุงุช ูุชูุฏูุฉ
- **ุงูุตูุญุงุช ุงูุฃูุซุฑ ุฒูุงุฑุฉ**
- **ูุตุงุฏุฑ ุงูุฅุญุงูุฉ** (ุงูุฑูุงุจุท ุงููุคุฏูุฉ ูููููุน)
- **ุฅุญุตุงุฆูุงุช ุงูุฏูู** (ุฅุฐุง ุชู ุชูุนูู GeoIP)
- **ุฑุณูู ุจูุงููุฉ ููููุฉ**

### 4. ุนุฏุงุฏ ุฒูุงุฑ ูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ
- **ุนุฑุถ ูู Footer** ุงููููุน
- **ุชุญุฏูุซ ุชููุงุฆู** ูู 5 ุฏูุงุฆู
- **ุชุตููู ูุชุฌุงูุจ** ูุน ุฌููุน ุงูุฃุฌูุฒุฉ

## ูุงุฌูุฉ ููุญุฉ ุงูุชุญูู

### 1. ุงูุฏุงุดุจูุฑุฏ ุงูุฑุฆูุณู (`/admin/dashboard`)
- **ุจุทุงูุงุช ุฅุญุตุงุฆูุฉ** ูู ุฃุนูู ุงูุตูุญุฉ
- **ูุธุฑุฉ ุนุงูุฉ ุณุฑูุนุฉ** ุนูู ุงูุฒูุงุฑุงุช
- **ุฑุงุจุท ููุชูุงุตูู ุงููุงููุฉ**

### 2. ุตูุญุฉ ุฅุญุตุงุฆูุงุช ุงูุฒูุงุฑ (`/admin/visitors`)
- **ุฅุญุตุงุฆูุงุช ุดุงููุฉ** ูุน ุจุทุงูุงุช ููููุฉ
- **ุฑุณู ุจูุงูู** ูุงุชุฌุงู ุงูุฒูุงุฑุงุช ุงูููููุฉ
- **ุฌุฏุงูู ุชูุตูููุฉ** ููุตูุญุงุช ูุงููุตุงุฏุฑ ูุงูุฏูู
- **ุชุญุฏูุซ ุชููุงุฆู** ูู 5 ุฏูุงุฆู

## ุฅุนุฏุงุฏุงุช ุงููุธุงู

ููููู ุงูุชุญูู ูู ุงููุธุงู ุนุจุฑ ุฌุฏูู `settings`:

### ุฅุนุฏุงุฏุงุช ูุชุงุญุฉ:
- `show_visitor_counter` (1/0): ุนุฑุถ/ุฅุฎูุงุก ุนุฏุงุฏ ุงูุฒูุงุฑ ูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ
- `visitor_counter_position` (footer): ููุถุน ุนุฏุงุฏ ุงูุฒูุงุฑ

### ุชุนุฏูู ุงูุฅุนุฏุงุฏุงุช:
```sql
-- ุฅุฎูุงุก ุนุฏุงุฏ ุงูุฒูุงุฑ ูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ
UPDATE settings SET value = '0' WHERE name = 'show_visitor_counter';

-- ุฅุธูุงุฑ ุนุฏุงุฏ ุงูุฒูุงุฑ
UPDATE settings SET value = '1' WHERE name = 'show_visitor_counter';
```

## ุชุฎุตูุตุงุช ุฅุถุงููุฉ

### 1. ุฅุถุงูุฉ ุฏุนู GeoIP (ุงุฎุชูุงุฑู)
ูุชุญุฏูุฏ ุฏููุฉ ููุฏููุฉ ุงูุฒุงุฆุฑุ ููููู:

```php
// ูู ููู app/Helpers/VisitorTracker.php
protected function getCountryByIp()
{
    $ip = $this->getIpAddress();
    
    // ุงุณุชุฎุฏุงู ุฎุฏูุฉ ูุฌุงููุฉ
    $response = @file_get_contents("http://ip-api.com/json/{$ip}");
    if ($response) {
        $data = json_decode($response, true);
        return $data['country'] ?? null;
    }
    
    return null;
}
```

### 2. ุชุฎุตูุต ุชุตููู ุนุฏุงุฏ ุงูุฒูุงุฑ
ููููู ุชุนุฏูู CSS ูู ููู `resources/views/layout/footer.view.php`

### 3. ุฅุถุงูุฉ ุฅุญุตุงุฆูุงุช ุฃุฎุฑู
ููููู ุชูุณูุน ุงููููุฐุฌ `Visitors.php` ูุฅุถุงูุฉ ุฅุญุตุงุฆูุงุช ุฌุฏูุฏุฉ

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดุงูู ุงูุดุงุฆุนุฉ:

1. **ุนุฏู ุธููุฑ ุงูุฅุญุตุงุฆูุงุช:**
   - ุชุฃูุฏ ูู ุฅูุดุงุก ุฌุฏูู `visitors`
   - ุชุฃูุฏ ูู ูุฌูุฏ ุงูุจูุงูุงุช ูู ุงูุฌุฏูู

2. **ุฎุทุฃ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
   ```sql
   -- ุชุญูู ูู ูุฌูุฏ ุงูุฌุฏูู
   SHOW TABLES LIKE 'visitors';
   
   -- ุชุญูู ูู ูููู ุงูุฌุฏูู
   DESCRIBE visitors;
   ```

3. **ุนุฏุงุฏ ุงูุฒูุงุฑ ูุง ูุธูุฑ:**
   - ุชุฃูุฏ ูู ุงูุฅุนุฏุงุฏ: `show_visitor_counter = '1'`
   - ุชุญูู ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก PHP

4. **ุนุฏู ุชุณุฌูู ุงูุฒูุงุฑุงุช:**
   - ุชุฃูุฏ ูู ุงุณุชุฏุนุงุก `VisitorTracker::run()` ูู ุงูุตูุญุงุช
   - ุชุญูู ูู ุตุญุฉ ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ุงูุฏุนู ูุงูุชุทููุฑ

### ุฅุถุงูุฉ ุตูุญุงุช ุฌุฏูุฏุฉ ููุชุชุจุน:
```php
// ูู ุฃู Controller
use App\Helpers\VisitorTracker;

public function myNewPage() {
    VisitorTracker::run();
    // ุจุงูู ุงูููุฏ...
}
```

### ุฅุถุงูุฉ ุฅุญุตุงุฆูุงุช ูุฎุตุตุฉ:
```php
// ูู Visitors Model
public function getCustomStats() {
    return DB::db()->query("
        SELECT COUNT(*) as visits 
        FROM {$this->table} 
        WHERE custom_condition = ?
    ", [$condition])->fetch();
}
```

## ุงูุฃูุงู ูุงูุฎุตูุตูุฉ

- ุงููุธุงู **ูุง ูุญูุธ ูุนูููุงุช ุดุฎุตูุฉ**
- **IP addresses** ูุญููุธุฉ ููุฅุญุตุงุฆูุงุช ููุท
- **ูุดู ุงูุจูุชุงุช ุชููุงุฆูุงู** ูุฅุญุตุงุฆูุงุช ุฏูููุฉ
- **ุชุฌูุจ ุชุชุจุน ูููุงุช ุงููุธุงู** ูุงูุฃุตูู

---

## ููุฎุต ุณุฑูุน ููุงุณุชุฎุฏุงู

1. **ููุฐ ููู SQL** ูุฅูุดุงุก ุงูุฌุฏูู
2. **ุฒุฑ ูููุนู** - ุณูุชู ุงูุชุชุจุน ุชููุงุฆูุงู
3. **ุงุฏุฎู ููุญุฉ ุงูุชุญูู** ูุฑุคูุฉ ุงูุฅุญุตุงุฆูุงุช
4. **ุงุณุชูุชุน ุจูุนุฑูุฉ ุนุฏุฏ ุฒูุงุฑู!** ๐

---

*ุชู ุฅูุดุงุก ูุฐุง ุงููุธุงู ุฎุตูุตุงู ููููุนู ุงูุดุฎุตู. ููุฏุนู ุงูููู ุฃู ุงูุชุทููุฑุ ููููู ูุฑุงุฌุนุฉ ุงูููุฏ ุฃู ุงูุชูุงุตู ูุน ุงููุทูุฑ.*